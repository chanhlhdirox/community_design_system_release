import { Component, Input, Output, EventEmitter, Inject } from '@angular/core';
import { UploadStatusProvider } from '../../upload-status.constants';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../../typography/paragraph/paragraph.directive";
import * as i3 from "../../../icons/icon.directive";
import * as i4 from "../upload-progress/upload-progress.component";
export class UploadItemComponent {
    constructor(provider) {
        this.provider = provider;
        this.cancelIconColor = 'var(--up-neutral-400)';
        this.navigateToDocumentDetails = new EventEmitter();
        this.cancelUpload = new EventEmitter();
        this.retryUpload = new EventEmitter();
    }
    get isUploading() {
        return this.uploadStatus === 'in_progress';
    }
    get isUploadCompleted() {
        return this.uploadStatus === 'completed';
    }
    get isUploadFailed() {
        return this.uploadStatus === 'failed';
    }
    get isUploadCancelled() {
        return this.uploadStatus === 'cancelled';
    }
    get isUploadProgressProvided() {
        return this.uploadProgress !== undefined;
    }
    get uploadItemCSSClass() {
        return this.provider.cssClassesBasedOnStatus.get(this.uploadStatus);
    }
    get filenameCSSClass() {
        return this.provider.fileNameCssClassesBasedOnStatus.get(this.uploadStatus);
    }
    get cancelUploadIconColor() {
        return this.cancelIconColor;
    }
    //@todo - this is not used anywhere atm - see https://tickets.unifiedpost.com/browse/COM-11655
    handleNavigateToDocumentDetails() {
        this.navigateToDocumentDetails.emit(this.fileName);
    }
    handleCancelItemUpload() {
        this.cancelUpload.emit(this.fileName);
    }
    handleRetryUpload() {
        this.retryUpload.emit(this.fileName);
    }
    toggleCancelUploadIconColor($event) {
        this.cancelIconColor =
            $event.type == 'mouseover' ? 'var(--up-brand-1-800)' : 'var(--up-neutral-400)';
    }
}
UploadItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: UploadItemComponent, deps: [{ token: UploadStatusProvider }], target: i0.ɵɵFactoryTarget.Component });
UploadItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.3.0", type: UploadItemComponent, selector: "up-upload-item", inputs: { fileName: "fileName", uploadStatus: "uploadStatus", uploadProgress: "uploadProgress", uploadCancelledMessage: "uploadCancelledMessage", uploadFailureMessage: "uploadFailureMessage" }, outputs: { navigateToDocumentDetails: "navigateToDocumentDetails", cancelUpload: "cancelUpload", retryUpload: "retryUpload" }, ngImport: i0, template: "<div class=\"up-upload-item-container\">\n  <div [ngClass]=\"uploadItemCSSClass\">\n    <div class=\"up-upload-item-icon-container\">\n      <div *ngIf=\"isUploadCompleted\" class=\"up-upload-item-success-container\">\n        <i\n          upIcon=\"alert_success_medium\"\n          color=\"var(--up-positive-700)\"\n          width=\"13.33px\"\n          height=\"13.33px\"\n        ></i>\n      </div>\n      <div *ngIf=\"isUploadFailed\" class=\"up-upload-item-failed-container\">\n        <i\n          upIcon=\"alert_error_medium\"\n          color=\"var(--up-negative-700)\"\n          width=\"13.18px\"\n          height=\"12px\"\n        ></i>\n      </div>\n    </div>\n    <div class=\"up-upload-item-filename-container\">\n      <p upParagraph=\"S\" [ngClass]=\"filenameCSSClass\">{{ fileName }}</p>\n      <p *ngIf=\"isUploadFailed\" class=\"up-upload-item-failed-text\" upParagraph=\"XXS\">\n        {{ uploadFailureMessage }}\n      </p>\n      <p *ngIf=\"isUploadCancelled\" class=\"up-upload-item-cancelled-text\" upParagraph=\"XXS\">\n        {{ uploadCancelledMessage }}\n      </p>\n    </div>\n    <div class=\"up-upload-item-progress-container\">\n      <ng-container *ngIf=\"isUploading\">\n        <i\n          class=\"up-upload-item-cancel-upload\"\n          upIcon=\"close_medium\"\n          width=\"24px\"\n          height=\"24px\"\n          [color]=\"cancelUploadIconColor\"\n          (mouseover)=\"toggleCancelUploadIconColor($event)\"\n          (mouseout)=\"toggleCancelUploadIconColor($event)\"\n          (click)=\"handleCancelItemUpload()\"\n        ></i>\n        <up-upload-progress\n          *ngIf=\"isUploadProgressProvided\"\n          class=\"up-upload-progress\"\n          [progress]=\"uploadProgress\"\n        ></up-upload-progress>\n        <i\n          *ngIf=\"!isUploadProgressProvided\"\n          class=\"up-upload-progress-placeholder\"\n          upIcon=\"spinner_medium\"\n          width=\"36px\"\n          height=\"36px\"\n          color=\"var(--up-brand-1-800)\"\n        ></i>\n      </ng-container>\n      <i\n        *ngIf=\"isUploadFailed\"\n        upIcon=\"restore_medium\"\n        width=\"24px\"\n        height=\"24px\"\n        color=\"var(--up-brand-1-800)\"\n        (click)=\"handleRetryUpload()\"\n      ></i>\n    </div>\n  </div>\n</div>\n", styles: [".up-upload-item-container{width:360px;height:52px;background-color:var(--up-white);border-bottom:1px solid var(--up-neutral-400)}.up-upload-item-container .up-upload-item,.up-upload-item-container .up-upload-item-in-progress,.up-upload-item-container .up-upload-item-failure,.up-upload-item-container .up-upload-item-cancelled{display:-webkit-flex;display:flex;padding:13.5px 20px}.up-upload-item-container .up-upload-item .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container i.up-upload-item-details{visibility:visible}.up-upload-item-container .up-upload-item p.upload-completed,.up-upload-item-container .up-upload-item-in-progress p.upload-completed,.up-upload-item-container .up-upload-item-failure p.upload-completed,.up-upload-item-container .up-upload-item-cancelled p.upload-completed{color:var(--up-neutral-900)}.up-upload-item-container .up-upload-item p.upload-in-progress,.up-upload-item-container .up-upload-item-in-progress p.upload-in-progress,.up-upload-item-container .up-upload-item-failure p.upload-in-progress,.up-upload-item-container .up-upload-item-cancelled p.upload-in-progress{color:var(--up-neutral-500)}.up-upload-item-container .up-upload-item p.upload-cancelled,.up-upload-item-container .up-upload-item-in-progress p.upload-cancelled,.up-upload-item-container .up-upload-item-failure p.upload-cancelled,.up-upload-item-container .up-upload-item-cancelled p.upload-cancelled{margin-top:-5px;margin-left:12px}.up-upload-item-container .up-upload-item .up-upload-item-progress-container,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container{display:-webkit-flex;display:flex;width:20px;height:inherit;margin-left:auto;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.up-upload-item-container .up-upload-item .up-upload-item-progress-container i:hover,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i:hover,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container i:hover,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container i:hover{cursor:pointer}.up-upload-item-container .up-upload-item .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container i.up-upload-item-details{visibility:hidden}.up-upload-item-container .up-upload-item .up-upload-item-progress-container .up-upload-progress,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container .up-upload-progress,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container .up-upload-progress,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container .up-upload-progress{padding-top:7px;margin-right:20px}.up-upload-item-container .up-upload-item .up-upload-item-progress-container .up-upload-progress-placeholder,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container .up-upload-progress-placeholder,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container .up-upload-progress-placeholder,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container .up-upload-progress-placeholder{margin-right:20px}.up-upload-item-container .up-upload-item .up-upload-item-icon-container,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-icon-container,.up-upload-item-container .up-upload-item-failure .up-upload-item-icon-container,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-icon-container{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;margin-right:9.33px}.up-upload-item-container .up-upload-item .up-upload-item-icon-container .up-upload-item-failed-container,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-icon-container .up-upload-item-failed-container,.up-upload-item-container .up-upload-item-failure .up-upload-item-icon-container .up-upload-item-failed-container,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-icon-container .up-upload-item-failed-container{margin-top:-15px}.up-upload-item-container .up-upload-item .up-upload-item-filename-container .up-upload-item-failed-text,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-filename-container .up-upload-item-failed-text,.up-upload-item-container .up-upload-item-failure .up-upload-item-filename-container .up-upload-item-failed-text,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-filename-container .up-upload-item-failed-text{color:var(--up-negative-700)}.up-upload-item-container .up-upload-item .up-upload-item-filename-container .up-upload-item-cancelled-text,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-filename-container .up-upload-item-cancelled-text,.up-upload-item-container .up-upload-item-failure .up-upload-item-filename-container .up-upload-item-cancelled-text,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-filename-container .up-upload-item-cancelled-text{margin-left:12px;color:var(--up-neutral-700)}.up-upload-item-container .up-upload-item-in-progress:hover,.up-upload-item-container .up-upload-item-failure:hover,.up-upload-item-container .up-upload-item-cancelled:hover{background-color:var(--up-white)}.up-upload-item-container .up-upload-item-in-progress{-webkit-align-items:center;align-items:center;padding:5px 24px 0 10px}.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i.up-upload-item-cancel-upload{visibility:hidden}.up-upload-item-container .up-upload-item-in-progress:hover .up-upload-item-progress-container i.up-upload-item-cancel-upload{padding:0;visibility:visible}.up-upload-item-container .up-upload-item-failure{padding:6.5px 20px}.up-upload-item-container .up-upload-item-cancelled{padding-bottom:0}:host:last-of-type .up-upload-item-container{border-bottom:none}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.UpParagraphDirective, selector: "[upParagraph]", inputs: ["upParagraph", "fontWeight"] }, { kind: "directive", type: i3.UpIconDirective, selector: "[upIcon]", inputs: ["upIcon", "fallback", "color", "width", "height"] }, { kind: "component", type: i4.UploadProgressComponent, selector: "up-upload-progress", inputs: ["progress"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: UploadItemComponent, decorators: [{
            type: Component,
            args: [{ selector: 'up-upload-item', template: "<div class=\"up-upload-item-container\">\n  <div [ngClass]=\"uploadItemCSSClass\">\n    <div class=\"up-upload-item-icon-container\">\n      <div *ngIf=\"isUploadCompleted\" class=\"up-upload-item-success-container\">\n        <i\n          upIcon=\"alert_success_medium\"\n          color=\"var(--up-positive-700)\"\n          width=\"13.33px\"\n          height=\"13.33px\"\n        ></i>\n      </div>\n      <div *ngIf=\"isUploadFailed\" class=\"up-upload-item-failed-container\">\n        <i\n          upIcon=\"alert_error_medium\"\n          color=\"var(--up-negative-700)\"\n          width=\"13.18px\"\n          height=\"12px\"\n        ></i>\n      </div>\n    </div>\n    <div class=\"up-upload-item-filename-container\">\n      <p upParagraph=\"S\" [ngClass]=\"filenameCSSClass\">{{ fileName }}</p>\n      <p *ngIf=\"isUploadFailed\" class=\"up-upload-item-failed-text\" upParagraph=\"XXS\">\n        {{ uploadFailureMessage }}\n      </p>\n      <p *ngIf=\"isUploadCancelled\" class=\"up-upload-item-cancelled-text\" upParagraph=\"XXS\">\n        {{ uploadCancelledMessage }}\n      </p>\n    </div>\n    <div class=\"up-upload-item-progress-container\">\n      <ng-container *ngIf=\"isUploading\">\n        <i\n          class=\"up-upload-item-cancel-upload\"\n          upIcon=\"close_medium\"\n          width=\"24px\"\n          height=\"24px\"\n          [color]=\"cancelUploadIconColor\"\n          (mouseover)=\"toggleCancelUploadIconColor($event)\"\n          (mouseout)=\"toggleCancelUploadIconColor($event)\"\n          (click)=\"handleCancelItemUpload()\"\n        ></i>\n        <up-upload-progress\n          *ngIf=\"isUploadProgressProvided\"\n          class=\"up-upload-progress\"\n          [progress]=\"uploadProgress\"\n        ></up-upload-progress>\n        <i\n          *ngIf=\"!isUploadProgressProvided\"\n          class=\"up-upload-progress-placeholder\"\n          upIcon=\"spinner_medium\"\n          width=\"36px\"\n          height=\"36px\"\n          color=\"var(--up-brand-1-800)\"\n        ></i>\n      </ng-container>\n      <i\n        *ngIf=\"isUploadFailed\"\n        upIcon=\"restore_medium\"\n        width=\"24px\"\n        height=\"24px\"\n        color=\"var(--up-brand-1-800)\"\n        (click)=\"handleRetryUpload()\"\n      ></i>\n    </div>\n  </div>\n</div>\n", styles: [".up-upload-item-container{width:360px;height:52px;background-color:var(--up-white);border-bottom:1px solid var(--up-neutral-400)}.up-upload-item-container .up-upload-item,.up-upload-item-container .up-upload-item-in-progress,.up-upload-item-container .up-upload-item-failure,.up-upload-item-container .up-upload-item-cancelled{display:-webkit-flex;display:flex;padding:13.5px 20px}.up-upload-item-container .up-upload-item .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container i.up-upload-item-details{visibility:visible}.up-upload-item-container .up-upload-item p.upload-completed,.up-upload-item-container .up-upload-item-in-progress p.upload-completed,.up-upload-item-container .up-upload-item-failure p.upload-completed,.up-upload-item-container .up-upload-item-cancelled p.upload-completed{color:var(--up-neutral-900)}.up-upload-item-container .up-upload-item p.upload-in-progress,.up-upload-item-container .up-upload-item-in-progress p.upload-in-progress,.up-upload-item-container .up-upload-item-failure p.upload-in-progress,.up-upload-item-container .up-upload-item-cancelled p.upload-in-progress{color:var(--up-neutral-500)}.up-upload-item-container .up-upload-item p.upload-cancelled,.up-upload-item-container .up-upload-item-in-progress p.upload-cancelled,.up-upload-item-container .up-upload-item-failure p.upload-cancelled,.up-upload-item-container .up-upload-item-cancelled p.upload-cancelled{margin-top:-5px;margin-left:12px}.up-upload-item-container .up-upload-item .up-upload-item-progress-container,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container{display:-webkit-flex;display:flex;width:20px;height:inherit;margin-left:auto;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.up-upload-item-container .up-upload-item .up-upload-item-progress-container i:hover,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i:hover,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container i:hover,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container i:hover{cursor:pointer}.up-upload-item-container .up-upload-item .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container i.up-upload-item-details,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container i.up-upload-item-details{visibility:hidden}.up-upload-item-container .up-upload-item .up-upload-item-progress-container .up-upload-progress,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container .up-upload-progress,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container .up-upload-progress,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container .up-upload-progress{padding-top:7px;margin-right:20px}.up-upload-item-container .up-upload-item .up-upload-item-progress-container .up-upload-progress-placeholder,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container .up-upload-progress-placeholder,.up-upload-item-container .up-upload-item-failure .up-upload-item-progress-container .up-upload-progress-placeholder,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-progress-container .up-upload-progress-placeholder{margin-right:20px}.up-upload-item-container .up-upload-item .up-upload-item-icon-container,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-icon-container,.up-upload-item-container .up-upload-item-failure .up-upload-item-icon-container,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-icon-container{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;margin-right:9.33px}.up-upload-item-container .up-upload-item .up-upload-item-icon-container .up-upload-item-failed-container,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-icon-container .up-upload-item-failed-container,.up-upload-item-container .up-upload-item-failure .up-upload-item-icon-container .up-upload-item-failed-container,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-icon-container .up-upload-item-failed-container{margin-top:-15px}.up-upload-item-container .up-upload-item .up-upload-item-filename-container .up-upload-item-failed-text,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-filename-container .up-upload-item-failed-text,.up-upload-item-container .up-upload-item-failure .up-upload-item-filename-container .up-upload-item-failed-text,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-filename-container .up-upload-item-failed-text{color:var(--up-negative-700)}.up-upload-item-container .up-upload-item .up-upload-item-filename-container .up-upload-item-cancelled-text,.up-upload-item-container .up-upload-item-in-progress .up-upload-item-filename-container .up-upload-item-cancelled-text,.up-upload-item-container .up-upload-item-failure .up-upload-item-filename-container .up-upload-item-cancelled-text,.up-upload-item-container .up-upload-item-cancelled .up-upload-item-filename-container .up-upload-item-cancelled-text{margin-left:12px;color:var(--up-neutral-700)}.up-upload-item-container .up-upload-item-in-progress:hover,.up-upload-item-container .up-upload-item-failure:hover,.up-upload-item-container .up-upload-item-cancelled:hover{background-color:var(--up-white)}.up-upload-item-container .up-upload-item-in-progress{-webkit-align-items:center;align-items:center;padding:5px 24px 0 10px}.up-upload-item-container .up-upload-item-in-progress .up-upload-item-progress-container i.up-upload-item-cancel-upload{visibility:hidden}.up-upload-item-container .up-upload-item-in-progress:hover .up-upload-item-progress-container i.up-upload-item-cancel-upload{padding:0;visibility:visible}.up-upload-item-container .up-upload-item-failure{padding:6.5px 20px}.up-upload-item-container .up-upload-item-cancelled{padding-bottom:0}:host:last-of-type .up-upload-item-container{border-bottom:none}\n"] }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [UploadStatusProvider]
                }] }]; }, propDecorators: { fileName: [{
                type: Input
            }], uploadStatus: [{
                type: Input
            }], uploadProgress: [{
                type: Input
            }], uploadCancelledMessage: [{
                type: Input
            }], uploadFailureMessage: [{
                type: Input
            }], navigateToDocumentDetails: [{
                type: Output
            }], cancelUpload: [{
                type: Output
            }], retryUpload: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBsb2FkLWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdXAvY29tcG9uZW50cy91cGxvYWQtcGFuZWwvY29tcG9uZW50cy91cGxvYWQtaXRlbS91cGxvYWQtaXRlbS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91cC9jb21wb25lbnRzL3VwbG9hZC1wYW5lbC9jb21wb25lbnRzL3VwbG9hZC1pdGVtL3VwbG9hZC1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBZSxvQkFBb0IsRUFBZ0IsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7O0FBT2hHLE1BQU0sT0FBTyxtQkFBbUI7SUEyQjlCLFlBQWtELFFBQXNCO1FBQXRCLGFBQVEsR0FBUixRQUFRLENBQWM7UUExQnhFLG9CQUFlLEdBQUcsdUJBQXVCLENBQUM7UUFrQjFDLDhCQUF5QixHQUF5QixJQUFJLFlBQVksRUFBVSxDQUFDO1FBRzdFLGlCQUFZLEdBQXlCLElBQUksWUFBWSxFQUFVLENBQUM7UUFHaEUsZ0JBQVcsR0FBeUIsSUFBSSxZQUFZLEVBQVUsQ0FBQztJQUVZLENBQUM7SUFFNUUsSUFBSSxXQUFXO1FBQ2IsT0FBTyxJQUFJLENBQUMsWUFBWSxLQUFLLGFBQWEsQ0FBQztJQUM3QyxDQUFDO0lBRUQsSUFBSSxpQkFBaUI7UUFDbkIsT0FBTyxJQUFJLENBQUMsWUFBWSxLQUFLLFdBQVcsQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxjQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLFlBQVksS0FBSyxRQUFRLENBQUM7SUFDeEMsQ0FBQztJQUVELElBQUksaUJBQWlCO1FBQ25CLE9BQU8sSUFBSSxDQUFDLFlBQVksS0FBSyxXQUFXLENBQUM7SUFDM0MsQ0FBQztJQUVELElBQUksd0JBQXdCO1FBQzFCLE9BQU8sSUFBSSxDQUFDLGNBQWMsS0FBSyxTQUFTLENBQUM7SUFDM0MsQ0FBQztJQUVELElBQUksa0JBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCxJQUFJLGdCQUFnQjtRQUNsQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsK0JBQStCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRUQsSUFBSSxxQkFBcUI7UUFDdkIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzlCLENBQUM7SUFFRCw4RkFBOEY7SUFDOUYsK0JBQStCO1FBQzdCLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxzQkFBc0I7UUFDcEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxpQkFBaUI7UUFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELDJCQUEyQixDQUFDLE1BQXdCO1FBQ2xELElBQUksQ0FBQyxlQUFlO1lBQ2xCLE1BQU0sQ0FBQyxJQUFJLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsdUJBQXVCLENBQUM7SUFDbkYsQ0FBQzs7Z0hBN0VVLG1CQUFtQixrQkEyQlYsb0JBQW9CO29HQTNCN0IsbUJBQW1CLHVYQ1JoQyxreEVBa0VBOzJGRDFEYSxtQkFBbUI7a0JBTC9CLFNBQVM7K0JBQ0UsZ0JBQWdCOzswQkErQmIsTUFBTTsyQkFBQyxvQkFBb0I7NENBdkJ4QyxRQUFRO3NCQURQLEtBQUs7Z0JBSU4sWUFBWTtzQkFEWCxLQUFLO2dCQUlOLGNBQWM7c0JBRGIsS0FBSztnQkFJTixzQkFBc0I7c0JBRHJCLEtBQUs7Z0JBSU4sb0JBQW9CO3NCQURuQixLQUFLO2dCQUlOLHlCQUF5QjtzQkFEeEIsTUFBTTtnQkFJUCxZQUFZO3NCQURYLE1BQU07Z0JBSVAsV0FBVztzQkFEVixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVXBsb2FkU3RhdHMsIFVwbG9hZFN0YXR1c1Byb3ZpZGVyLCBVcGxvYWRTdGF0dXMgfSBmcm9tICcuLi8uLi91cGxvYWQtc3RhdHVzLmNvbnN0YW50cyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3VwLXVwbG9hZC1pdGVtJyxcbiAgdGVtcGxhdGVVcmw6ICd1cGxvYWQtaXRlbS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWyd1cGxvYWQtaXRlbS5jb21wb25lbnQuc2FzcyddXG59KVxuZXhwb3J0IGNsYXNzIFVwbG9hZEl0ZW1Db21wb25lbnQge1xuICBjYW5jZWxJY29uQ29sb3IgPSAndmFyKC0tdXAtbmV1dHJhbC00MDApJztcblxuICBASW5wdXQoKVxuICBmaWxlTmFtZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIHVwbG9hZFN0YXR1czogVXBsb2FkU3RhdHM7XG5cbiAgQElucHV0KClcbiAgdXBsb2FkUHJvZ3Jlc3M/OiBudW1iZXI7XG5cbiAgQElucHV0KClcbiAgdXBsb2FkQ2FuY2VsbGVkTWVzc2FnZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIHVwbG9hZEZhaWx1cmVNZXNzYWdlOiBzdHJpbmc7XG5cbiAgQE91dHB1dCgpXG4gIG5hdmlnYXRlVG9Eb2N1bWVudERldGFpbHM6IEV2ZW50RW1pdHRlcjxzdHJpbmc+ID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgQE91dHB1dCgpXG4gIGNhbmNlbFVwbG9hZDogRXZlbnRFbWl0dGVyPHN0cmluZz4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcblxuICBAT3V0cHV0KClcbiAgcmV0cnlVcGxvYWQ6IEV2ZW50RW1pdHRlcjxzdHJpbmc+ID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChVcGxvYWRTdGF0dXNQcm92aWRlcikgcHJpdmF0ZSBwcm92aWRlcjogVXBsb2FkU3RhdHVzKSB7fVxuXG4gIGdldCBpc1VwbG9hZGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy51cGxvYWRTdGF0dXMgPT09ICdpbl9wcm9ncmVzcyc7XG4gIH1cblxuICBnZXQgaXNVcGxvYWRDb21wbGV0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudXBsb2FkU3RhdHVzID09PSAnY29tcGxldGVkJztcbiAgfVxuXG4gIGdldCBpc1VwbG9hZEZhaWxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy51cGxvYWRTdGF0dXMgPT09ICdmYWlsZWQnO1xuICB9XG5cbiAgZ2V0IGlzVXBsb2FkQ2FuY2VsbGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnVwbG9hZFN0YXR1cyA9PT0gJ2NhbmNlbGxlZCc7XG4gIH1cblxuICBnZXQgaXNVcGxvYWRQcm9ncmVzc1Byb3ZpZGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnVwbG9hZFByb2dyZXNzICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgdXBsb2FkSXRlbUNTU0NsYXNzKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuY3NzQ2xhc3Nlc0Jhc2VkT25TdGF0dXMuZ2V0KHRoaXMudXBsb2FkU3RhdHVzKTtcbiAgfVxuXG4gIGdldCBmaWxlbmFtZUNTU0NsYXNzKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuZmlsZU5hbWVDc3NDbGFzc2VzQmFzZWRPblN0YXR1cy5nZXQodGhpcy51cGxvYWRTdGF0dXMpO1xuICB9XG5cbiAgZ2V0IGNhbmNlbFVwbG9hZEljb25Db2xvcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNhbmNlbEljb25Db2xvcjtcbiAgfVxuXG4gIC8vQHRvZG8gLSB0aGlzIGlzIG5vdCB1c2VkIGFueXdoZXJlIGF0bSAtIHNlZSBodHRwczovL3RpY2tldHMudW5pZmllZHBvc3QuY29tL2Jyb3dzZS9DT00tMTE2NTVcbiAgaGFuZGxlTmF2aWdhdGVUb0RvY3VtZW50RGV0YWlscygpOiB2b2lkIHtcbiAgICB0aGlzLm5hdmlnYXRlVG9Eb2N1bWVudERldGFpbHMuZW1pdCh0aGlzLmZpbGVOYW1lKTtcbiAgfVxuXG4gIGhhbmRsZUNhbmNlbEl0ZW1VcGxvYWQoKTogdm9pZCB7XG4gICAgdGhpcy5jYW5jZWxVcGxvYWQuZW1pdCh0aGlzLmZpbGVOYW1lKTtcbiAgfVxuXG4gIGhhbmRsZVJldHJ5VXBsb2FkKCk6IHZvaWQge1xuICAgIHRoaXMucmV0cnlVcGxvYWQuZW1pdCh0aGlzLmZpbGVOYW1lKTtcbiAgfVxuXG4gIHRvZ2dsZUNhbmNlbFVwbG9hZEljb25Db2xvcigkZXZlbnQ6IHsgdHlwZTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICB0aGlzLmNhbmNlbEljb25Db2xvciA9XG4gICAgICAkZXZlbnQudHlwZSA9PSAnbW91c2VvdmVyJyA/ICd2YXIoLS11cC1icmFuZC0xLTgwMCknIDogJ3ZhcigtLXVwLW5ldXRyYWwtNDAwKSc7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJ1cC11cGxvYWQtaXRlbS1jb250YWluZXJcIj5cbiAgPGRpdiBbbmdDbGFzc109XCJ1cGxvYWRJdGVtQ1NTQ2xhc3NcIj5cbiAgICA8ZGl2IGNsYXNzPVwidXAtdXBsb2FkLWl0ZW0taWNvbi1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgKm5nSWY9XCJpc1VwbG9hZENvbXBsZXRlZFwiIGNsYXNzPVwidXAtdXBsb2FkLWl0ZW0tc3VjY2Vzcy1jb250YWluZXJcIj5cbiAgICAgICAgPGlcbiAgICAgICAgICB1cEljb249XCJhbGVydF9zdWNjZXNzX21lZGl1bVwiXG4gICAgICAgICAgY29sb3I9XCJ2YXIoLS11cC1wb3NpdGl2ZS03MDApXCJcbiAgICAgICAgICB3aWR0aD1cIjEzLjMzcHhcIlxuICAgICAgICAgIGhlaWdodD1cIjEzLjMzcHhcIlxuICAgICAgICA+PC9pPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2ICpuZ0lmPVwiaXNVcGxvYWRGYWlsZWRcIiBjbGFzcz1cInVwLXVwbG9hZC1pdGVtLWZhaWxlZC1jb250YWluZXJcIj5cbiAgICAgICAgPGlcbiAgICAgICAgICB1cEljb249XCJhbGVydF9lcnJvcl9tZWRpdW1cIlxuICAgICAgICAgIGNvbG9yPVwidmFyKC0tdXAtbmVnYXRpdmUtNzAwKVwiXG4gICAgICAgICAgd2lkdGg9XCIxMy4xOHB4XCJcbiAgICAgICAgICBoZWlnaHQ9XCIxMnB4XCJcbiAgICAgICAgPjwvaT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ1cC11cGxvYWQtaXRlbS1maWxlbmFtZS1jb250YWluZXJcIj5cbiAgICAgIDxwIHVwUGFyYWdyYXBoPVwiU1wiIFtuZ0NsYXNzXT1cImZpbGVuYW1lQ1NTQ2xhc3NcIj57eyBmaWxlTmFtZSB9fTwvcD5cbiAgICAgIDxwICpuZ0lmPVwiaXNVcGxvYWRGYWlsZWRcIiBjbGFzcz1cInVwLXVwbG9hZC1pdGVtLWZhaWxlZC10ZXh0XCIgdXBQYXJhZ3JhcGg9XCJYWFNcIj5cbiAgICAgICAge3sgdXBsb2FkRmFpbHVyZU1lc3NhZ2UgfX1cbiAgICAgIDwvcD5cbiAgICAgIDxwICpuZ0lmPVwiaXNVcGxvYWRDYW5jZWxsZWRcIiBjbGFzcz1cInVwLXVwbG9hZC1pdGVtLWNhbmNlbGxlZC10ZXh0XCIgdXBQYXJhZ3JhcGg9XCJYWFNcIj5cbiAgICAgICAge3sgdXBsb2FkQ2FuY2VsbGVkTWVzc2FnZSB9fVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ1cC11cGxvYWQtaXRlbS1wcm9ncmVzcy1jb250YWluZXJcIj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpc1VwbG9hZGluZ1wiPlxuICAgICAgICA8aVxuICAgICAgICAgIGNsYXNzPVwidXAtdXBsb2FkLWl0ZW0tY2FuY2VsLXVwbG9hZFwiXG4gICAgICAgICAgdXBJY29uPVwiY2xvc2VfbWVkaXVtXCJcbiAgICAgICAgICB3aWR0aD1cIjI0cHhcIlxuICAgICAgICAgIGhlaWdodD1cIjI0cHhcIlxuICAgICAgICAgIFtjb2xvcl09XCJjYW5jZWxVcGxvYWRJY29uQ29sb3JcIlxuICAgICAgICAgIChtb3VzZW92ZXIpPVwidG9nZ2xlQ2FuY2VsVXBsb2FkSWNvbkNvbG9yKCRldmVudClcIlxuICAgICAgICAgIChtb3VzZW91dCk9XCJ0b2dnbGVDYW5jZWxVcGxvYWRJY29uQ29sb3IoJGV2ZW50KVwiXG4gICAgICAgICAgKGNsaWNrKT1cImhhbmRsZUNhbmNlbEl0ZW1VcGxvYWQoKVwiXG4gICAgICAgID48L2k+XG4gICAgICAgIDx1cC11cGxvYWQtcHJvZ3Jlc3NcbiAgICAgICAgICAqbmdJZj1cImlzVXBsb2FkUHJvZ3Jlc3NQcm92aWRlZFwiXG4gICAgICAgICAgY2xhc3M9XCJ1cC11cGxvYWQtcHJvZ3Jlc3NcIlxuICAgICAgICAgIFtwcm9ncmVzc109XCJ1cGxvYWRQcm9ncmVzc1wiXG4gICAgICAgID48L3VwLXVwbG9hZC1wcm9ncmVzcz5cbiAgICAgICAgPGlcbiAgICAgICAgICAqbmdJZj1cIiFpc1VwbG9hZFByb2dyZXNzUHJvdmlkZWRcIlxuICAgICAgICAgIGNsYXNzPVwidXAtdXBsb2FkLXByb2dyZXNzLXBsYWNlaG9sZGVyXCJcbiAgICAgICAgICB1cEljb249XCJzcGlubmVyX21lZGl1bVwiXG4gICAgICAgICAgd2lkdGg9XCIzNnB4XCJcbiAgICAgICAgICBoZWlnaHQ9XCIzNnB4XCJcbiAgICAgICAgICBjb2xvcj1cInZhcigtLXVwLWJyYW5kLTEtODAwKVwiXG4gICAgICAgID48L2k+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDxpXG4gICAgICAgICpuZ0lmPVwiaXNVcGxvYWRGYWlsZWRcIlxuICAgICAgICB1cEljb249XCJyZXN0b3JlX21lZGl1bVwiXG4gICAgICAgIHdpZHRoPVwiMjRweFwiXG4gICAgICAgIGhlaWdodD1cIjI0cHhcIlxuICAgICAgICBjb2xvcj1cInZhcigtLXVwLWJyYW5kLTEtODAwKVwiXG4gICAgICAgIChjbGljayk9XCJoYW5kbGVSZXRyeVVwbG9hZCgpXCJcbiAgICAgID48L2k+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=
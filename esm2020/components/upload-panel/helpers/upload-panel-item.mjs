export class UploadPanelItem {
    constructor(item) {
        this.name = item.name;
        this.status = 'in_progress';
        this.progress = 0;
        this.file = item.file;
        this.methods = item.methods;
    }
    upload() {
        this.uploadSubscription$ = this.methods.uploadCall(this.file).subscribe((result) => {
            this.status = 'completed';
            this.uploadResult = result;
            this.methods.onSuccess(this.file, result);
        }, (error) => {
            this.status = 'failed';
            this.methods.onFailed(this.file, error);
        });
    }
    cancel() {
        this.uploadSubscription$?.unsubscribe();
        this.status = 'cancelled';
        this.uploadSubscription$ = null;
    }
    retry() {
        this.status = 'in_progress';
        this.upload();
    }
    //@todo - this is not used atm in community/upload-panel-container-component - see https://tickets.unifiedpost.com/browse/COM-11655
    openItem() {
        this.methods.onClickHandler(this.uploadResult);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXBsb2FkLXBhbmVsLWl0ZW0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91cC9jb21wb25lbnRzL3VwbG9hZC1wYW5lbC9oZWxwZXJzL3VwbG9hZC1wYW5lbC1pdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9CQSxNQUFNLE9BQU8sZUFBZTtJQVMxQixZQUFZLElBQTZCO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQzlCLENBQUM7SUFFRCxNQUFNO1FBQ0osSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQ3JFLENBQUMsTUFBZSxFQUFFLEVBQUU7WUFDbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7WUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUM7WUFDM0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM1QyxDQUFDLEVBQ0QsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDMUMsQ0FBQyxDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztRQUMxQixJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxLQUFLO1FBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxtSUFBbUk7SUFDbkksUUFBUTtRQUNOLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNqRCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFVwbG9hZFN0YXRzIH0gZnJvbSAnLi4vdXBsb2FkLXN0YXR1cy5jb25zdGFudHMnO1xuXG5leHBvcnQgdHlwZSBVcGxvYWRIYW5kbGVyID0gKGZpbGU6IEZpbGUpID0+IE9ic2VydmFibGU8dW5rbm93bj47XG5leHBvcnQgdHlwZSBVcGxvYWRTdWNjZXNzSGFuZGxlciA9IChmaWxlOiBGaWxlLCByZXN1bHQ6IHVua25vd24pID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBVcGxvYWRFcnJvckhhbmRsZXIgPSAoZmlsZTogRmlsZSwgZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkSXRlbUhhbmRsZXJzIHtcbiAgb25DbGlja0hhbmRsZXI6IEZ1bmN0aW9uO1xuICB1cGxvYWRDYWxsOiBVcGxvYWRIYW5kbGVyO1xuICBvblN1Y2Nlc3M6IFVwbG9hZFN1Y2Nlc3NIYW5kbGVyO1xuICBvbkZhaWxlZDogVXBsb2FkRXJyb3JIYW5kbGVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZEl0ZW1Db25maWd1cmF0aW9uIHtcbiAgZmlsZTogRmlsZTtcbiAgbmFtZTogc3RyaW5nO1xuICBtZXRob2RzOiBVcGxvYWRJdGVtSGFuZGxlcnM7XG59XG5cbmV4cG9ydCBjbGFzcyBVcGxvYWRQYW5lbEl0ZW0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb2dyZXNzPzogbnVtYmVyO1xuICBmaWxlOiBGaWxlO1xuICBzdGF0dXM6IFVwbG9hZFN0YXRzO1xuICBtZXRob2RzOiBVcGxvYWRJdGVtSGFuZGxlcnM7XG4gIHByb3RlY3RlZCB1cGxvYWRTdWJzY3JpcHRpb24kOiBTdWJzY3JpcHRpb247XG4gIHByb3RlY3RlZCB1cGxvYWRSZXN1bHQ6IHVua25vd247XG5cbiAgY29uc3RydWN0b3IoaXRlbTogVXBsb2FkSXRlbUNvbmZpZ3VyYXRpb24pIHtcbiAgICB0aGlzLm5hbWUgPSBpdGVtLm5hbWU7XG4gICAgdGhpcy5zdGF0dXMgPSAnaW5fcHJvZ3Jlc3MnO1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMuZmlsZSA9IGl0ZW0uZmlsZTtcbiAgICB0aGlzLm1ldGhvZHMgPSBpdGVtLm1ldGhvZHM7XG4gIH1cblxuICB1cGxvYWQoKTogdm9pZCB7XG4gICAgdGhpcy51cGxvYWRTdWJzY3JpcHRpb24kID0gdGhpcy5tZXRob2RzLnVwbG9hZENhbGwodGhpcy5maWxlKS5zdWJzY3JpYmUoXG4gICAgICAocmVzdWx0OiB1bmtub3duKSA9PiB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgIHRoaXMudXBsb2FkUmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICB0aGlzLm1ldGhvZHMub25TdWNjZXNzKHRoaXMuZmlsZSwgcmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSAnZmFpbGVkJztcbiAgICAgICAgdGhpcy5tZXRob2RzLm9uRmFpbGVkKHRoaXMuZmlsZSwgZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBjYW5jZWwoKTogdm9pZCB7XG4gICAgdGhpcy51cGxvYWRTdWJzY3JpcHRpb24kPy51bnN1YnNjcmliZSgpO1xuICAgIHRoaXMuc3RhdHVzID0gJ2NhbmNlbGxlZCc7XG4gICAgdGhpcy51cGxvYWRTdWJzY3JpcHRpb24kID0gbnVsbDtcbiAgfVxuXG4gIHJldHJ5KCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdHVzID0gJ2luX3Byb2dyZXNzJztcbiAgICB0aGlzLnVwbG9hZCgpO1xuICB9XG5cbiAgLy9AdG9kbyAtIHRoaXMgaXMgbm90IHVzZWQgYXRtIGluIGNvbW11bml0eS91cGxvYWQtcGFuZWwtY29udGFpbmVyLWNvbXBvbmVudCAtIHNlZSBodHRwczovL3RpY2tldHMudW5pZmllZHBvc3QuY29tL2Jyb3dzZS9DT00tMTE2NTVcbiAgb3Blbkl0ZW0oKTogdm9pZCB7XG4gICAgdGhpcy5tZXRob2RzLm9uQ2xpY2tIYW5kbGVyKHRoaXMudXBsb2FkUmVzdWx0KTtcbiAgfVxufVxuIl19
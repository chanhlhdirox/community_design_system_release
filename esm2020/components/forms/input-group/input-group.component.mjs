import { Component, ContentChild, ContentChildren, EventEmitter, Input, Output } from '@angular/core';
import { PrefixDirective } from '../prefix/prefix.directive';
import { SuffixDirective } from '../suffix/suffix.directive';
import { InputDirective } from '../input/input.directive';
import { InputTypes } from './input.models';
import { NgSelectComponent } from '@ng-select/ng-select';
import { FormFieldLayout, FormFieldSize } from '../form-field-container/constants';
import { TooltipTriggerType } from '../../tooltip/tooltip.constants';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../icons/icon.directive";
import * as i3 from "../../typography/paragraph/paragraph.directive";
import * as i4 from "../../tooltip/tooltip.directive";
import * as i5 from "../up-label/label.component";
import * as i6 from "../form-field-container/form-field-container.component";
export class UpInputGroupComponent {
    constructor() {
        this.layout = FormFieldLayout.VERTICAL;
        this.size = FormFieldSize.NORMAL;
        this.clearable = false;
        this.showRequiredMark = false;
        this.allowPasswordVisibilityToggle = false;
        this.persistTooltip = false;
        this.tooltipTrigger = TooltipTriggerType.HOVER;
        this.inputCleared = new EventEmitter();
    }
    get hasPrefix() {
        return this.prefixChildren?.length > 0 || this.isInputTypeSearch();
    }
    get hasSuffix() {
        return this.suffixChildren?.length > 0 || this.isInputTypeSearch();
    }
    get inputFocused() {
        if (this.inputControl) {
            return this.inputControl.isFocused;
        }
        if (this.ngSelectControl) {
            return this.ngSelectControl.focused;
        }
        return false;
    }
    get controlValue() {
        return this.inputControl?.ngControl?.value;
    }
    isSearchIconVisible() {
        return this.isInputTypeSearch() && this.prefixChildren.length === 0;
    }
    isInputClearable() {
        return this.isInputTypeSearch() || this.clearable;
    }
    isInputTypeEmail() {
        return this.inputControl?.inputType === InputTypes.Email;
    }
    isInputTypeSearch() {
        return this.inputControl?.inputType === InputTypes.Search;
    }
    clearInput() {
        this.inputControl?.clearInput();
        this.inputCleared.emit();
    }
    togglePasswordVisibility() {
        this.inputControl?.togglePasswordVisibility();
    }
}
UpInputGroupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: UpInputGroupComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
UpInputGroupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.3.0", type: UpInputGroupComponent, selector: "up-input-group", inputs: { layout: "layout", size: "size", tooltip: "tooltip", name: "name", label: "label", clearable: "clearable", showRequiredMark: "showRequiredMark", allowPasswordVisibilityToggle: "allowPasswordVisibilityToggle", errors: "errors", helpers: "helpers", warnings: "warnings", labelContainerClass: "labelContainerClass", inputContainerClass: "inputContainerClass", persistTooltip: "persistTooltip", tooltipTrigger: "tooltipTrigger" }, outputs: { inputCleared: "inputCleared" }, queries: [{ propertyName: "inputControl", first: true, predicate: InputDirective, descendants: true }, { propertyName: "ngSelectControl", first: true, predicate: NgSelectComponent, descendants: true }, { propertyName: "prefixChildren", predicate: PrefixDirective, descendants: true }, { propertyName: "suffixChildren", predicate: SuffixDirective, descendants: true }], ngImport: i0, template: "<up-form-field-container\n  [hasError]=\"inputControl?.hasError\"\n  [hasWarning]=\"!!warnings?.length\"\n  [hasPrefix]=\"hasPrefix\"\n  [hasSuffix]=\"hasSuffix\"\n  [hasLabel]=\"!!label\"\n  [layout]=\"layout\"\n  [size]=\"size\"\n  [class.up-form-field--focused]=\"inputFocused\"\n>\n  <up-label\n    *ngIf=\"label\"\n    class=\"up-label-container {{ labelContainerClass }}\"\n    [class.focused]=\"inputFocused\"\n    [name]=\"name\"\n  >\n    {{ label }}\n    <ng-container *ngIf=\"showRequiredMark\">*</ng-container>\n    <i\n      *ngIf=\"tooltip\"\n      [upTooltip]=\"tooltip\"\n      [trigger]=\"tooltipTrigger\"\n      [persistOnHoverOff]=\"persistTooltip\"\n      class=\"tooltip-icon\"\n      upIcon=\"alert_info_small\"\n      width=\"13px\"\n      height=\"13px\"\n      color=\"var(--up-brand-1-500)\"\n      [attr.data-test]=\"name + '_tooltip'\"\n    ></i>\n  </up-label>\n  <div *ngIf=\"prefixChildren.length > 0\">\n    <div class=\"up-field-prefix\">\n      <ng-content select=\"[upPrefix]\"></ng-content>\n    </div>\n  </div>\n  <div class=\"up-field-prefix up-field-prefix--search\" *ngIf=\"isSearchIconVisible()\">\n    <i upIcon=\"search_small\"></i>\n  </div>\n  <div class=\"up-input-container {{ inputContainerClass }}\">\n    <ng-content></ng-content>\n    <div class=\"up-messages-container\">\n      <div class=\"up-form-field-helpers\" *ngIf=\"!!helpers\">\n        <div class=\"up-form-field-helper\" *ngFor=\"let helper of helpers\">\n          <div class=\"message\" upParagraph=\"XS\">{{ helper }}</div>\n        </div>\n      </div>\n      <div class=\"up-form-field-warnings\" *ngIf=\"!!warnings\">\n        <div class=\"up-form-field-warning\" *ngFor=\"let warning of warnings\">\n          <div class=\"icon\">\n            <i upIcon=\"warning_icon\" color=\"var(--up-warning-700)\"></i>\n          </div>\n          <div class=\"message\" upParagraph=\"XS\">{{ warning }}</div>\n        </div>\n      </div>\n      <div class=\"up-form-field-errors\" *ngIf=\"!!errors || inputControl?.hasError\">\n        <div class=\"up-form-field-error\" *ngFor=\"let error of errors; let i = index\">\n          <div class=\"icon\">\n            <i upIcon=\"alert_error_medium\" color=\"var(--up-negative-700)\"></i>\n          </div>\n          <div class=\"message\" upParagraph=\"XS\" [attr.data-test]=\"name + '_error_' + i\">\n            {{ error }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    *ngIf=\"isInputClearable() && (controlValue || (inputControl.nativeElementValueChanges | async))\"\n    class=\"up-field-suffix up-field-clear-action\"\n    [attr.data-test]=\"name + '_reset_value'\"\n    (click)=\"clearInput()\"\n  >\n    <i upIcon=\"clear_small\"></i>\n  </div>\n\n  <div *ngIf=\"allowPasswordVisibilityToggle && !isInputTypeEmail()\">\n    <div class=\"up-field-suffix toggle-visibility\" (click)=\"togglePasswordVisibility()\">\n      <i upIcon=\"show_small\"></i>\n    </div>\n  </div>\n\n  <div *ngIf=\"suffixChildren.length > 0\">\n    <div class=\"up-field-suffix\">\n      <ng-content select=\"[upSuffix]\"></ng-content>\n    </div>\n  </div>\n</up-form-field-container>\n", styles: [".up-field-clear-action,.toggle-visibility{cursor:pointer;color:var(--up-brand-1)}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.UpIconDirective, selector: "[upIcon]", inputs: ["upIcon", "fallback", "color", "width", "height"] }, { kind: "directive", type: i3.UpParagraphDirective, selector: "[upParagraph]", inputs: ["upParagraph", "fontWeight"] }, { kind: "directive", type: i4.UpTooltipDirective, selector: "[upTooltip]", inputs: ["upTooltip", "trigger", "disabledTooltip", "persistOnHoverOff", "tooltipContextData", "longPress"] }, { kind: "component", type: i5.UpLabelComponent, selector: "up-label", inputs: ["name", "focused", "readonly"] }, { kind: "component", type: i6.FormFieldContainerComponent, selector: "up-form-field-container", inputs: ["layout", "size", "hasError", "hasWarning", "hasSuffix", "hasPrefix", "hasLabel"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: UpInputGroupComponent, decorators: [{
            type: Component,
            args: [{ selector: 'up-input-group', template: "<up-form-field-container\n  [hasError]=\"inputControl?.hasError\"\n  [hasWarning]=\"!!warnings?.length\"\n  [hasPrefix]=\"hasPrefix\"\n  [hasSuffix]=\"hasSuffix\"\n  [hasLabel]=\"!!label\"\n  [layout]=\"layout\"\n  [size]=\"size\"\n  [class.up-form-field--focused]=\"inputFocused\"\n>\n  <up-label\n    *ngIf=\"label\"\n    class=\"up-label-container {{ labelContainerClass }}\"\n    [class.focused]=\"inputFocused\"\n    [name]=\"name\"\n  >\n    {{ label }}\n    <ng-container *ngIf=\"showRequiredMark\">*</ng-container>\n    <i\n      *ngIf=\"tooltip\"\n      [upTooltip]=\"tooltip\"\n      [trigger]=\"tooltipTrigger\"\n      [persistOnHoverOff]=\"persistTooltip\"\n      class=\"tooltip-icon\"\n      upIcon=\"alert_info_small\"\n      width=\"13px\"\n      height=\"13px\"\n      color=\"var(--up-brand-1-500)\"\n      [attr.data-test]=\"name + '_tooltip'\"\n    ></i>\n  </up-label>\n  <div *ngIf=\"prefixChildren.length > 0\">\n    <div class=\"up-field-prefix\">\n      <ng-content select=\"[upPrefix]\"></ng-content>\n    </div>\n  </div>\n  <div class=\"up-field-prefix up-field-prefix--search\" *ngIf=\"isSearchIconVisible()\">\n    <i upIcon=\"search_small\"></i>\n  </div>\n  <div class=\"up-input-container {{ inputContainerClass }}\">\n    <ng-content></ng-content>\n    <div class=\"up-messages-container\">\n      <div class=\"up-form-field-helpers\" *ngIf=\"!!helpers\">\n        <div class=\"up-form-field-helper\" *ngFor=\"let helper of helpers\">\n          <div class=\"message\" upParagraph=\"XS\">{{ helper }}</div>\n        </div>\n      </div>\n      <div class=\"up-form-field-warnings\" *ngIf=\"!!warnings\">\n        <div class=\"up-form-field-warning\" *ngFor=\"let warning of warnings\">\n          <div class=\"icon\">\n            <i upIcon=\"warning_icon\" color=\"var(--up-warning-700)\"></i>\n          </div>\n          <div class=\"message\" upParagraph=\"XS\">{{ warning }}</div>\n        </div>\n      </div>\n      <div class=\"up-form-field-errors\" *ngIf=\"!!errors || inputControl?.hasError\">\n        <div class=\"up-form-field-error\" *ngFor=\"let error of errors; let i = index\">\n          <div class=\"icon\">\n            <i upIcon=\"alert_error_medium\" color=\"var(--up-negative-700)\"></i>\n          </div>\n          <div class=\"message\" upParagraph=\"XS\" [attr.data-test]=\"name + '_error_' + i\">\n            {{ error }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    *ngIf=\"isInputClearable() && (controlValue || (inputControl.nativeElementValueChanges | async))\"\n    class=\"up-field-suffix up-field-clear-action\"\n    [attr.data-test]=\"name + '_reset_value'\"\n    (click)=\"clearInput()\"\n  >\n    <i upIcon=\"clear_small\"></i>\n  </div>\n\n  <div *ngIf=\"allowPasswordVisibilityToggle && !isInputTypeEmail()\">\n    <div class=\"up-field-suffix toggle-visibility\" (click)=\"togglePasswordVisibility()\">\n      <i upIcon=\"show_small\"></i>\n    </div>\n  </div>\n\n  <div *ngIf=\"suffixChildren.length > 0\">\n    <div class=\"up-field-suffix\">\n      <ng-content select=\"[upSuffix]\"></ng-content>\n    </div>\n  </div>\n</up-form-field-container>\n", styles: [".up-field-clear-action,.toggle-visibility{cursor:pointer;color:var(--up-brand-1)}\n"] }]
        }], propDecorators: { layout: [{
                type: Input
            }], size: [{
                type: Input
            }], tooltip: [{
                type: Input
            }], name: [{
                type: Input
            }], label: [{
                type: Input
            }], clearable: [{
                type: Input
            }], showRequiredMark: [{
                type: Input
            }], allowPasswordVisibilityToggle: [{
                type: Input
            }], errors: [{
                type: Input
            }], helpers: [{
                type: Input
            }], warnings: [{
                type: Input
            }], labelContainerClass: [{
                type: Input
            }], inputContainerClass: [{
                type: Input
            }], persistTooltip: [{
                type: Input
            }], tooltipTrigger: [{
                type: Input
            }], inputCleared: [{
                type: Output
            }], prefixChildren: [{
                type: ContentChildren,
                args: [PrefixDirective, { descendants: true }]
            }], suffixChildren: [{
                type: ContentChildren,
                args: [SuffixDirective, { descendants: true }]
            }], inputControl: [{
                type: ContentChild,
                args: [InputDirective]
            }], ngSelectControl: [{
                type: ContentChild,
                args: [NgSelectComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtZ3JvdXAuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdXAvY29tcG9uZW50cy9mb3Jtcy9pbnB1dC1ncm91cC9pbnB1dC1ncm91cC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91cC9jb21wb25lbnRzL2Zvcm1zL2lucHV0LWdyb3VwL2lucHV0LWdyb3VwLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFDZixZQUFZLEVBQ1osS0FBSyxFQUNMLE1BQU0sRUFFUCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzdELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDekQsT0FBTyxFQUNMLGVBQWUsRUFFZixhQUFhLEVBRWQsTUFBTSxtQ0FBbUMsQ0FBQztBQUMzQyxPQUFPLEVBQWtCLGtCQUFrQixFQUFFLE1BQU0saUNBQWlDLENBQUM7Ozs7Ozs7O0FBT3JGLE1BQU0sT0FBTyxxQkFBcUI7SUFMbEM7UUFNVyxXQUFNLEdBQXdCLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFDdkQsU0FBSSxHQUFzQixhQUFhLENBQUMsTUFBTSxDQUFDO1FBSS9DLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFDbEIscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLGtDQUE2QixHQUFHLEtBQUssQ0FBQztRQVN0QyxtQkFBYyxHQUFHLEtBQUssQ0FBQztRQUN2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bXBvcnQge1xuICBDb21wb25lbnQsXG4gIENvbnRlbnRDaGlsZCxcbiAgQ29udGVudENoaWxkcmVuLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFByZWZpeERpcmVjdGl2ZSB9IGZyb20gJy4uL3ByZWZpeC9wcmVmaXguZGlyZWN0aXZlJztcbmltcG9ydCB7IFN1ZmZpeERpcmVjdGl2ZSB9IGZyb20gJy4uL3N1ZmZpeC9zdWZmaXguZGlyZWN0aXZlJztcbmltcG9ydCB7IElucHV0RGlyZWN0aXZlIH0gZnJvbSAnLi4vaW5wdXQvaW5wdXQuZGlyZWN0aXZlJztcbmltcG9ydCB7IElucHV0VHlwZXMgfSBmcm9tICcuL2lucHV0Lm1vZGVscyc7XG5pbXBvcnQgeyBOZ1NlbGVjdENvbXBvbmVudCB9IGZyb20gJ0BuZy1zZWxlY3Qvbmctc2VsZWN0JztcbmltcG9ydCB7XG4gIEZvcm1GaWVsZExheW91dCxcbiAgRm9ybUZpZWxkTGF5b3V0VHlwZSxcbiAgRm9ybUZpZWxkU2l6ZSxcbiAgRm9ybUZpZWxkU2l6ZVR5cGVcbn0gZnJvbSAnLi4vZm9ybS1maWVsZC1jb250YWluZXIvY29uc3RhbnRzJztcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwVHJpZ2dlclR5cGUgfSBmcm9tICcuLi8uLi90b29sdGlwL3Rvb2x0aXAuY29uc3RhbnRzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndXAtaW5wdXQtZ3JvdXAnLFxuICB0ZW1wbGF0ZVVybDogJy4vaW5wdXQtZ3JvdXAuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9pbnB1dC1ncm91cC5jb21wb25lbnQuc2FzcyddXG59KVxuZXhwb3J0IGNsYXNzIFVwSW5wdXRHcm91cENvbXBvbmVudCB7XG4gIEBJbnB1dCgpIGxheW91dDogRm9ybUZpZWxkTGF5b3V0VHlwZSA9IEZvcm1GaWVsZExheW91dC5WRVJUSUNBTDtcbiAgQElucHV0KCkgc2l6ZTogRm9ybUZpZWxkU2l6ZVR5cGUgPSBGb3JtRmllbGRTaXplLk5PUk1BTDtcbiAgQElucHV0KCkgdG9vbHRpcDogc3RyaW5nO1xuICBASW5wdXQoKSBuYW1lOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGxhYmVsOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGNsZWFyYWJsZSA9IGZhbHNlO1xuICBASW5wdXQoKSBzaG93UmVxdWlyZWRNYXJrID0gZmFsc2U7XG4gIEBJbnB1dCgpIGFsbG93UGFzc3dvcmRWaXNpYmlsaXR5VG9nZ2xlID0gZmFsc2U7XG5cbiAgQElucHV0KCkgZXJyb3JzOiBzdHJpbmdbXTtcbiAgQElucHV0KCkgaGVscGVyczogc3RyaW5nW107XG4gIEBJbnB1dCgpIHdhcm5pbmdzOiBzdHJpbmdbXTtcblxuICBASW5wdXQoKSBsYWJlbENvbnRhaW5lckNsYXNzOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGlucHV0Q29udGFpbmVyQ2xhc3M6IHN0cmluZztcblxuICBASW5wdXQoKSBwZXJzaXN0VG9vbHRpcCA9IGZhbHNlO1xuICBASW5wdXQoKSB0b29sdGlwVHJpZ2dlcjogVG9vbHRpcFRyaWdnZXIgPSBUb29sdGlwVHJpZ2dlclR5cGUuSE9WRVI7XG4gIEBPdXRwdXQoKSBpbnB1dENsZWFyZWQ6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBAQ29udGVudENoaWxkcmVuKFByZWZpeERpcmVjdGl2ZSwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KVxuICBwcmVmaXhDaGlsZHJlbjogUXVlcnlMaXN0PFByZWZpeERpcmVjdGl2ZT47XG4gIEBDb250ZW50Q2hpbGRyZW4oU3VmZml4RGlyZWN0aXZlLCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pXG4gIHN1ZmZpeENoaWxkcmVuOiBRdWVyeUxpc3Q8U3VmZml4RGlyZWN0aXZlPjtcbiAgQENvbnRlbnRDaGlsZChJbnB1dERpcmVjdGl2ZSkgaW5wdXRDb250cm9sOiBJbnB1dERpcmVjdGl2ZSB8IHVuZGVmaW5lZDtcbiAgQENvbnRlbnRDaGlsZChOZ1NlbGVjdENvbXBvbmVudCkgbmdTZWxlY3RDb250cm9sOiBOZ1NlbGVjdENvbXBvbmVudDtcblxuICBnZXQgaGFzUHJlZml4KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnByZWZpeENoaWxkcmVuPy5sZW5ndGggPiAwIHx8IHRoaXMuaXNJbnB1dFR5cGVTZWFyY2goKTtcbiAgfVxuXG4gIGdldCBoYXNTdWZmaXgoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3VmZml4Q2hpbGRyZW4/Lmxlbmd0aCA+IDAgfHwgdGhpcy5pc0lucHV0VHlwZVNlYXJjaCgpO1xuICB9XG5cbiAgZ2V0IGlucHV0Rm9jdXNlZCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pbnB1dENvbnRyb2wpIHtcbiAgICAgIHJldHVybiB0aGlzLmlucHV0Q29udHJvbC5pc0ZvY3VzZWQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubmdTZWxlY3RDb250cm9sKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZ1NlbGVjdENvbnRyb2wuZm9jdXNlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXQgY29udHJvbFZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRDb250cm9sPy5uZ0NvbnRyb2w/LnZhbHVlO1xuICB9XG5cbiAgaXNTZWFyY2hJY29uVmlzaWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0lucHV0VHlwZVNlYXJjaCgpICYmIHRoaXMucHJlZml4Q2hpbGRyZW4ubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgaXNJbnB1dENsZWFyYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0lucHV0VHlwZVNlYXJjaCgpIHx8IHRoaXMuY2xlYXJhYmxlO1xuICB9XG5cbiAgaXNJbnB1dFR5cGVFbWFpbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dENvbnRyb2w/LmlucHV0VHlwZSA9PT0gSW5wdXRUeXBlcy5FbWFpbDtcbiAgfVxuXG4gIGlzSW5wdXRUeXBlU2VhcmNoKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlucHV0Q29udHJvbD8uaW5wdXRUeXBlID09PSBJbnB1dFR5cGVzLlNlYXJjaDtcbiAgfVxuXG4gIGNsZWFySW5wdXQoKTogdm9pZCB7XG4gICAgdGhpcy5pbnB1dENvbnRyb2w/LmNsZWFySW5wdXQoKTtcbiAgICB0aGlzLmlucHV0Q2xlYXJlZC5lbWl0KCk7XG4gIH1cblxuICB0b2dnbGVQYXNzd29yZFZpc2liaWxpdHkoKTogdm9pZCB7XG4gICAgdGhpcy5pbnB1dENvbnRyb2w/LnRvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSgpO1xuICB9XG59XG4iLCI8dXAtZm9ybS1maWVsZC1jb250YWluZXJcbiAgW2hhc0Vycm9yXT1cImlucHV0Q29udHJvbD8uaGFzRXJyb3JcIlxuICBbaGFzV2FybmluZ109XCIhIXdhcm5pbmdzPy5sZW5ndGhcIlxuICBbaGFzUHJlZml4XT1cImhhc1ByZWZpeFwiXG4gIFtoYXNTdWZmaXhdPVwiaGFzU3VmZml4XCJcbiAgW2hhc0xhYmVsXT1cIiEhbGFiZWxcIlxuICBbbGF5b3V0XT1cImxheW91dFwiXG4gIFtzaXplXT1cInNpemVcIlxuICBbY2xhc3MudXAtZm9ybS1maWVsZC0tZm9jdXNlZF09XCJpbnB1dEZvY3VzZWRcIlxuPlxuICA8dXAtbGFiZWxcbiAgICAqbmdJZj1cImxhYmVsXCJcbiAgICBjbGFzcz1cInVwLWxhYmVsLWNvbnRhaW5lciB7eyBsYWJlbENvbnRhaW5lckNsYXNzIH19XCJcbiAgICBbY2xhc3MuZm9jdXNlZF09XCJpbnB1dEZvY3VzZWRcIlxuICAgIFtuYW1lXT1cIm5hbWVcIlxuICA+XG4gICAge3sgbGFiZWwgfX1cbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2hvd1JlcXVpcmVkTWFya1wiPio8L25nLWNvbnRhaW5lcj5cbiAgICA8aVxuICAgICAgKm5nSWY9XCJ0b29sdGlwXCJcbiAgICAgIFt1cFRvb2x0aXBdPVwidG9vbHRpcFwiXG4gICAgICBbdHJpZ2dlcl09XCJ0b29sdGlwVHJpZ2dlclwiXG4gICAgICBbcGVyc2lzdE9uSG92ZXJPZmZdPVwicGVyc2lzdFRvb2x0aXBcIlxuICAgICAgY2xhc3M9XCJ0b29sdGlwLWljb25cIlxuICAgICAgdXBJY29uPVwiYWxlcnRfaW5mb19zbWFsbFwiXG4gICAgICB3aWR0aD1cIjEzcHhcIlxuICAgICAgaGVpZ2h0PVwiMTNweFwiXG4gICAgICBjb2xvcj1cInZhcigtLXVwLWJyYW5kLTEtNTAwKVwiXG4gICAgICBbYXR0ci5kYXRhLXRlc3RdPVwibmFtZSArICdfdG9vbHRpcCdcIlxuICAgID48L2k+XG4gIDwvdXAtbGFiZWw+XG4gIDxkaXYgKm5nSWY9XCJwcmVmaXhDaGlsZHJlbi5sZW5ndGggPiAwXCI+XG4gICAgPGRpdiBjbGFzcz1cInVwLWZpZWxkLXByZWZpeFwiPlxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW3VwUHJlZml4XVwiPjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJ1cC1maWVsZC1wcmVmaXggdXAtZmllbGQtcHJlZml4LS1zZWFyY2hcIiAqbmdJZj1cImlzU2VhcmNoSWNvblZpc2libGUoKVwiPlxuICAgIDxpIHVwSWNvbj1cInNlYXJjaF9zbWFsbFwiPjwvaT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJ1cC1pbnB1dC1jb250YWluZXIge3sgaW5wdXRDb250YWluZXJDbGFzcyB9fVwiPlxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8ZGl2IGNsYXNzPVwidXAtbWVzc2FnZXMtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidXAtZm9ybS1maWVsZC1oZWxwZXJzXCIgKm5nSWY9XCIhIWhlbHBlcnNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInVwLWZvcm0tZmllbGQtaGVscGVyXCIgKm5nRm9yPVwibGV0IGhlbHBlciBvZiBoZWxwZXJzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2VcIiB1cFBhcmFncmFwaD1cIlhTXCI+e3sgaGVscGVyIH19PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidXAtZm9ybS1maWVsZC13YXJuaW5nc1wiICpuZ0lmPVwiISF3YXJuaW5nc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidXAtZm9ybS1maWVsZC13YXJuaW5nXCIgKm5nRm9yPVwibGV0IHdhcm5pbmcgb2Ygd2FybmluZ3NcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaWNvblwiPlxuICAgICAgICAgICAgPGkgdXBJY29uPVwid2FybmluZ19pY29uXCIgY29sb3I9XCJ2YXIoLS11cC13YXJuaW5nLTcwMClcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2VcIiB1cFBhcmFncmFwaD1cIlhTXCI+e3sgd2FybmluZyB9fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInVwLWZvcm0tZmllbGQtZXJyb3JzXCIgKm5nSWY9XCIhIWVycm9ycyB8fCBpbnB1dENvbnRyb2w/Lmhhc0Vycm9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1cC1mb3JtLWZpZWxkLWVycm9yXCIgKm5nRm9yPVwibGV0IGVycm9yIG9mIGVycm9yczsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8aSB1cEljb249XCJhbGVydF9lcnJvcl9tZWRpdW1cIiBjb2xvcj1cInZhcigtLXVwLW5lZ2F0aXZlLTcwMClcIj48L2k+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1lc3NhZ2VcIiB1cFBhcmFncmFwaD1cIlhTXCIgW2F0dHIuZGF0YS10ZXN0XT1cIm5hbWUgKyAnX2Vycm9yXycgKyBpXCI+XG4gICAgICAgICAgICB7eyBlcnJvciB9fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdlxuICAgICpuZ0lmPVwiaXNJbnB1dENsZWFyYWJsZSgpICYmIChjb250cm9sVmFsdWUgfHwgKGlucHV0Q29udHJvbC5uYXRpdmVFbGVtZW50VmFsdWVDaGFuZ2VzIHwgYXN5bmMpKVwiXG4gICAgY2xhc3M9XCJ1cC1maWVsZC1zdWZmaXggdXAtZmllbGQtY2xlYXItYWN0aW9uXCJcbiAgICBbYXR0ci5kYXRhLXRlc3RdPVwibmFtZSArICdfcmVzZXRfdmFsdWUnXCJcbiAgICAoY2xpY2spPVwiY2xlYXJJbnB1dCgpXCJcbiAgPlxuICAgIDxpIHVwSWNvbj1cImNsZWFyX3NtYWxsXCI+PC9pPlxuICA8L2Rpdj5cblxuICA8ZGl2ICpuZ0lmPVwiYWxsb3dQYXNzd29yZFZpc2liaWxpdHlUb2dnbGUgJiYgIWlzSW5wdXRUeXBlRW1haWwoKVwiPlxuICAgIDxkaXYgY2xhc3M9XCJ1cC1maWVsZC1zdWZmaXggdG9nZ2xlLXZpc2liaWxpdHlcIiAoY2xpY2spPVwidG9nZ2xlUGFzc3dvcmRWaXNpYmlsaXR5KClcIj5cbiAgICAgIDxpIHVwSWNvbj1cInNob3dfc21hbGxcIj48L2k+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgKm5nSWY9XCJzdWZmaXhDaGlsZHJlbi5sZW5ndGggPiAwXCI+XG4gICAgPGRpdiBjbGFzcz1cInVwLWZpZWxkLXN1ZmZpeFwiPlxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW3VwU3VmZml4XVwiPjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3VwLWZvcm0tZmllbGQtY29udGFpbmVyPlxuIl19